select (count(distinct ?s) as ?count)
where {
  graph ?graph {
    { ?s ?p1 ?o1 } UNION { ?s ?p2 ?o2 } .
  }
  graph ?templateGraph1 {
    ?s <http://dbpedia.org/property/wikiPageUsesTemplate> ?t1 .
  }
  graph ?templateGraph2 {
   ?s <http://dbpedia.org/property/wikiPageUsesTemplate> ?t2 .
  }
}